use anyhow::Result;
use clap::Parser;

/// Prints your text in a text bubble with KittyCAD as ASCII art
///
///     $ kittycad kittysay
#[derive(Parser, Debug, Clone)]
#[clap(verbatim_doc_comment)]
pub struct CmdKittySay {
    /// What kitty says
    #[clap(name = "input", required = true, multiple_values = true)]
    pub input: Vec<String>,
}

#[async_trait::async_trait]
impl crate::cmd::Command for CmdKittySay {
    async fn run(&self, ctx: &mut crate::context::Context) -> Result<()> {
        let kitty_string = "                                                  
        .....                                 
       .::-:...            .....              
      ..:---..:...        .::::...            
     ..------:.::::::::::.:----......         
  .::::------:::::::::::..------:..::::::::-. 
.::::..........::::::::::::::----:::::::::---. 
::::::::::::::::::::::::...........::::::::---. 
:--:::::::::::::::::::::::::::::::::::::::----. 
:--::=#@@@%%%###***+++===---::::::::--::-=----. 
:--::#@@@@@@@@@@@@@@@@@@@@@@@@@#-:::---:=-=---. 
:--::#@@@@@@@@@@@@@@@@@@@@@@@@@@@:::----++=---. 
:--::#@@@@%***#@@@@@@@@@*+*@@@@@@:::----=+----. 
:--::#@@@**%%%#+@@@@@@@@=-=@@@@@@:::----------  
:---:#@@@@@@@@@@@%%%%@@@=-=@@@@@@:::---------=  
-----#@@@@@@@**@@#+-+#@@#%%@@@@@@:::--------==  
-----#@@@@@@@@%+#%#-%@%+*#@@@@@@@::--------===  
-----*%@@@@@@@@@***+++*%@@@@@@@@@----------===. 
------=+***####%%%@@@@@@@@@@@@@@@---------====. 
----------::::::::::::--===+++*+:--------=====  
--==---===---::::::::::::::::-----------=====+  
-------+**+----------------------------====***  
---------------::::::::::------------======#**  
-----=+++++-----------------=-=--=---======*+=  
-----=+++++--#@@@%%%%###+---=-=--+---======:.   
.......::----+####%%%%@@*---++++++---===:.      
      .*########*:.......:==--------.         
    :*#%%%%%%%%%%+       -%######*#+.         
    =#########%%%+     =#%%%%%%%%%##-         
    -++***#####=.      *############:         
                       -==++***##+:           
";
        writeln!(ctx.io.out, "{}", kitty_string).ok();
        writeln!(ctx.io.out, "{}", self.input.join(" ")).ok();
        Ok(())
    }
}
